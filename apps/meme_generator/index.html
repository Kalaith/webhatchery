<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme Generator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="css/templates.css">
    <link rel="stylesheet" href="css/notifications.css">
    <link rel="stylesheet" href="css/text-overlays.css">
</head>
<body data-color-scheme="dark">
    <div class="meme-editor">
        <!-- Header -->
        <header class="editor-header">
            <h1 class="editor-title">Meme Generator</h1>
            <div class="header-actions">
                <button class="btn btn--primary" id="exportBtn">Export Meme</button>
            </div>
        </header>

        <!-- Main Content -->
        <div class="editor-content">
            <!-- Left Panel - Image Preview -->
            <div class="preview-panel">
                <div class="image-container" id="imageContainer">
                    <!-- Demo background -->
                    <div class="demo-background" id="demoBackground">
                        <h2>Demo Image Background</h2>
                        <p>Click "Add Text" to start creating your meme!</p>
                        <p><small>Upload your own image or use this demo area</small></p>
                    </div>
                    
                    <div class="upload-area" id="uploadArea" style="display: none;">
                        <div class="upload-content">
                            <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7,10 12,15 17,10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            <h3>Upload Your Image</h3>
                            <p>Drag & drop or click to select</p>
                            <p class="upload-hint">JPG, PNG, GIF, WebP</p>
                        </div>
                        <input type="file" id="imageInput" accept="image/*" style="display: none;">
                    </div>
                    
                    <img id="imagePlayer" style="display: none;" alt="Uploaded meme image">
                    
                    <!-- Text overlays will be positioned here -->
                    <div class="text-overlays" id="textOverlays"></div>
                </div>
                
                <div class="upload-section">
                    <button class="btn btn--outline btn--full-width" id="uploadImageBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="9" cy="9" r="2"/>
                            <path d="M21 15l-3.086-3.086a2 2 0 00-2.828 0L6 21"/>
                        </svg>
                        Upload Image
                    </button>
                </div>
            </div>

            <!-- Right Panel - Tools -->
            <div class="tools-panel">
                <!-- Image Upload -->
                <div class="tool-section">
                    <h3 class="tool-title">üñºÔ∏è Background Image</h3>
                    <button class="btn btn--secondary btn--full-width" id="uploadImageBtn2">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="9" cy="9" r="2"/>
                            <path d="M21 15l-3.086-3.086a2 2 0 00-2.828 0L6 21"/>
                        </svg>
                        Upload New Image
                    </button>
                </div>

                <!-- Text Controls -->
                <div class="tool-section">
                    <h3 class="tool-title">‚ú® Text Overlay</h3>
                    <button class="btn btn--primary btn--full-width" id="addTextBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Add Text
                    </button>
                    
                    <div class="text-controls" id="textControls">
                        <div class="form-group">
                            <label class="form-label">Text Content</label>
                            <input type="text" class="form-control" id="textInput" placeholder="Enter your meme text..." value="Your Meme Text">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Font Style</label>
                            <select class="form-control" id="fontSelect">
                                <option value="Impact, Arial Black, sans-serif">Impact (Classic)</option>
                                <option value="Arial, sans-serif">Arial</option>
                                <option value="Comic Sans MS, cursive">Comic Sans</option>
                                <option value="Montserrat, sans-serif">Montserrat</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Font Size: <span id="fontSizeValue">32px</span></label>
                            <input type="range" class="form-control" id="fontSizeSlider" min="16" max="72" value="32">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Text Color</label>
                            <input type="color" class="form-control" id="textColor" value="#ffffff">
                        </div>
                        
                        <div class="form-group">
                            <button class="btn btn--secondary btn--full-width" id="deleteTextBtn">Delete Selected Text</button>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="tool-section">
                    <h3 class="tool-title">‚ö° Quick Actions</h3>
                    <button class="btn btn--outline btn--full-width" id="clearAllBtn">Clear All Text</button>
                    <button class="btn btn--secondary btn--full-width" id="resetBtn">Reset</button>
                </div>

                <!-- Export Section -->
                <div class="tool-section">
                    <h3 class="tool-title">üíæ Export</h3>
                    <div class="form-group">
                        <label class="form-label">Format</label>
                        <select class="form-control" id="exportFormat">
                            <option value="png">PNG</option>
                            <option value="jpg">JPG</option>
                            <option value="gif">GIF</option>
                            <option value="webp">WebP</option>
                        </select>
                    </div>
                    <button class="btn btn--primary btn--full-width" id="downloadBtn">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7,10 12,15 17,10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        Download Meme
                    </button>
                </div>
            </div>
        </div>
    </div>

    <input type="file" id="hiddenImageInput" accept="image/*" style="display: none;">
    
    <!-- Load the new modular JavaScript -->
    <script type="module" src="js/app.js"></script>
</body>
</html>